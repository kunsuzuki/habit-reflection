# 開発スケジュール & TODOリスト

このドキュメントは、AI Habit Reflectionプロジェクトの開発スケジュールと今後実施するTODOを一元管理するためのものです。

---

## スケジュール

| 期日         | タスク概要                           | 担当         | 状態   |
|--------------|--------------------------------------|--------------|--------|
| 2025-04-25   | ユーザー認証（サインアップ/ログイン） | 開発         | 未着手 |
| 2025-04-27   | 日記入力機能のSupabase連携            | 開発         | 未着手 |
| 2025-04-30   | TODO/習慣データのCRUD実装             | 開発         | 未着手 |
| 2025-05-03   | AI分析APIの本実装                     | 開発         | 未着手 |
| 2025-05-10   | テスト・リリース準備                  | 開発/運用    | 未着手 |

---

## TODOリスト（最適化・細分化版）

### 1. ユーザー認証（サインアップ/ログイン）
- [ ] Supabase Auth設定（メール/パスワード認証有効化）
- [ ] サインアップ/ログインUIコンポーネント作成
- [ ] Server Actionによる認証処理
- [ ] ログイン状態のグローバル管理（Contextやフック設計）
- [ ] 未ログイン時のリダイレクト/ガード処理
- [ ] ログアウト機能実装
- [ ] 認証状態でのナビゲーション・メニュー制御

### 2. 日記入力機能のSupabase連携
- [ ] journalsテーブル設計（user_id外部キー必須、RLS設定）
- [ ] 型定義（src/types/journal.ts）作成
- [ ] Supabaseクライアント設定（lib/supabaseClient.ts）
- [ ] 日記保存用Server Action実装（actions/journalActions.ts）
- [ ] バリデーションロジック実装（lib/validation.ts）
- [ ] JournalEntryコンポーネントのフォーム→Server Action連携
- [ ] 保存後のUIフィードバック（成功/エラー表示）
- [ ] 日記一覧取得ロジック・一覧表示
- [ ] 日記データのユーザー紐付け検証

### 3. TODO・習慣データのCRUD実装
- [ ] todos, habitsテーブル設計（user_id外部キー必須、RLS設定、繰り返し・通知カラム設計）
- [ ] 型定義（src/types/todo.ts, habit.ts）作成
- [ ] CRUD用Server Actions実装（actions/todoActions.ts, habitActions.ts）
- [ ] バリデーションロジック実装
- [ ] TODO/習慣追加フォームのUI作成
- [ ] 一覧・詳細ページのUI作成
- [ ] 編集・削除機能実装
- [ ] 通知・繰り返し・曜日指定機能のロジック実装
- [ ] 個別TODOページ（/todo/[id]）の作成
- [ ] メモ機能の実装

### 4. RLSポリシーのテストと強化
- [ ] Supabase側でRLSポリシー作成
- [ ] テストユーザーでデータ分離検証
- [ ] 不正アクセス時のエラーUI実装

### 5. AI分析ボタンのAPI連携＆エラーハンドリング
- [ ] AI分析APIのエンドポイント設計
- [ ] APIリクエスト用のlib実装
- [ ] JournalEntry等からAI分析ボタン経由でAPI呼び出し
- [ ] 進捗/エラー/結果表示のUI実装
- [ ] 習慣達成率・気分分析ロジックの実装

### 6. E2Eテストとバグ修正
- [ ] テストケース洗い出し・仕様確認
- [ ] E2Eテストコード作成（Playwright/Cypress等）
- [ ] バグ修正・リファクタリング
- [ ] 本番想定のデータでの最終動作確認

### 7. READMEとドキュメントの更新
- [ ] 実装内容・仕様変更のREADME反映
- [ ] コーディング規約・設計思想のドキュメント更新
- [ ] タスク進捗・運用ルールの記載見直し

---

## 開発ルール

- 今後の実装は必ずこのschedule-and-tasks.mdの内容に沿って進めること。
- 一つのタスクが完了したら必ずschedule-and-tasks.mdを確認し、該当タスクにチェックを入れること。
- タスク・スケジュールの追加・編集もこのファイルで一元管理すること。

> 必要に応じてこのファイルにタスク・スケジュールを追加・編集してください。
